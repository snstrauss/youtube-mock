(this["webpackJsonpyoutube-search"]=this["webpackJsonpyoutube-search"]||[]).push([[0],[,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(3),s=n.n(r),o=(n(9),n(1)),l=c.a.createContext();n(10);function u(e){var t=e.respond,n=Object(a.useState)(),r=Object(o.a)(n,2),s=r[0],u=r[1],i=Object(a.useContext)(l).flatSongs;function m(e){e.preventDefault();var n=i.filter((function(e){return e.name.toLowerCase().includes(s)}));t(n)}return c.a.createElement("form",{onSubmit:function(e){return m(e)},className:"search-container"},c.a.createElement("input",{type:"text",placeholder:"search for videos",onChange:function(e){return u(e.target.value)}}),c.a.createElement("button",{onClick:m},"GO"))}n(11),n(12),n(13);function i(e){var t=e.song,n=e.selectSong,a=e.isRelated,r=t.name.split(" - "),s=Object(o.a)(r,2),l=s[0],u=s[1],i={"--multi":a?.5:1};return c.a.createElement("div",{onClick:function(){return n(t)},className:"song-entry",style:i},c.a.createElement("img",{src:"http://placekitten.com/300/200"}),c.a.createElement("section",{className:"data"},c.a.createElement("span",{className:"name"},u),c.a.createElement("div",{className:"artist-container"},c.a.createElement("span",{className:"artist"},l),!a&&c.a.createElement("span",{className:"views"},t.views," views")),!a&&c.a.createElement("span",{className:"description"},"description...........")))}function m(e){var t=e.results,n=e.selectSong,r=Object(a.useContext)(l).flatSongs,s=t||r,o=Object(a.useMemo)((function(){var e=s.reduce((function(e,t){return e[t.link]=t,e}),{});return Object.values(e)}),[s]);return c.a.createElement("div",{className:"search-results"},o.map((function(e,t){return c.a.createElement(i,{song:e,key:e.link,selectSong:n})})))}n(14);function f(e){return e.link.match(/watch\?v=(.+)/)[1]}function p(e){var t=e.song,n=e.selectSong,a=f(t);return c.a.createElement("div",{className:"song-view"},c.a.createElement("div",{className:"song-player"},c.a.createElement("h1",null,t.name),c.a.createElement("iframe",{width:"1020",height:"630",src:"https://www.youtube.com/embed/".concat(a),frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),c.a.createElement("aside",{className:"related-songs"},t.relatedPlaylists?t.relatedPlaylists.map((function(e){return c.a.createElement(i,{song:e,key:e.link,selectSong:n,isRelated:!0})})):null))}var d=[];function v(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),i=Object(o.a)(s,2),v=i[0],E=i[1],h=Object(a.useState)(),g=Object(o.a)(h,2),b=g[0],w=g[1];function y(){var e=d.pop();E(e)}function j(e){v&&d.push(v),window.history.pushState(f(e),e.name),E(e)}return Object(a.useEffect)((function(){fetch("youtube-mock/songs.json").then((function(e){return e.json()})).then((function(e){var t=function e(t){var n=[];return t.forEach((function(t){if(n.push(t),t.relatedPlaylists){var a=e(t.relatedPlaylists);n=n.concat(a)}})),n}(e);return window.onpopstate=y,r({songs:e,flatSongs:t}),function(){window.onpopstate=null}}))}),[]),c.a.createElement("div",{className:"app-container"},n?c.a.createElement(l.Provider,{value:n},c.a.createElement("header",{className:"header"},c.a.createElement(u,{respond:function(e){w(e)}})),c.a.createElement("main",null,v?c.a.createElement(p,{song:v,selectSong:j}):c.a.createElement(m,{results:b,selectSong:j}))):null)}s.a.render(c.a.createElement(v,null),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.09da7ef2.chunk.js.map